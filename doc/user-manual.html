<html>
<head>

<title>Static and Dynamic Structural Analysis of 2D and 3D Frames</title>

<META NAME="Description" CONTENT=" Free software for static and dynamic analysis of 3D moment-resisting frames with elastic and geometric stiffness. Written in
 C.  Source code includes:  frame analysis, LDL' decomposition, LU decomposition, sub-space iteration, Stodola iteration, Sturm eigenvalue checking,  
Static Condensation, Guyan Reduction and Dynamic Condensation.  
Matlab interface. 
Graphical output and mode shape animation via Gnuplot.">

<META NAME="Keywords" CONTENT="Frame3DD, Structural Dynamics, Structural Analysis, Frame Analysis, Structural Analysis Software, Geometric Stiffness, Geometric Stiffness Matrix, Modal Analysis, Modal Analysis Software, Structural Dynamics, Structural Dynamics Software, LDL Decomposition, LDL Decomposition, LU Decomposition, Sub-space Iteration, Gnuplot, Matlab, Octave, Henri Gavin, Duke">

</head>

<body>

<img src="img/psoe.jpg" height="100" align="left" border="0">
<font face="Arial, Helvetica, sans-serif" size="3">
<nobr><b>A Manual and Reference for <a href="http://www.duke.edu/~hpgavin/frame3dd/index.html">Frame3DD: A Structural Frame Analysis Program</a></b>
</nobr><br>
<a href="http://www-cee.egr.duke.edu/">
Department of Civil and Environmental Engineering</a><br>
<a href="http://www.egr.duke.edu/">
Edmund T. Pratt School of Engineering</a><br>
<a href="http://www.duke.edu/">
Duke University</a> - Box 90287,
<a href="http://www.durham-nc.com/"> Durham</a>,
<a href="http://www.visitnc.com/"> NC</a> 27708-0287
</font>

<p><i><font face="Verdana, Arial, Helvetica, sans-serif" size="2">
<a href="http://cee.duke.edu/ARCHIVES/people/faculty/gavin.shtml">Henri P. Gavin</a>, P.E., Ph.D., 
- Associate Professor -
<a href="&#109;&#097;&#105;&#108;&#116;&#111;&#058;&#072;&#101;&#110;&#114;&#105;&#046;&#071;&#097;&#118;&#105;&#110;&#064;&#068;&#117;&#107;&#101;&#046;&#101;&#100;&#117;">
&#072;&#101;&#110;&#114;&#105;&#046;&#071;&#097;&#118;&#105;&#110;&#064;&#068;&#117;&#107;&#101;&#046;&#101;&#100;&#117;
</a>
- tel: 919-660-5201 - fax: 919-660-5219
</font></i></p>

<font face="Arial, Helvetica, sans-serif" size="2">
<hr>
<h4>Frame3DD</h4>
<!-- <h4>DESCRIPTION </h4> -->
<p>
     <b>Frame3DD</b> is a program for the static and dynamic structural analysis of two- and three-dimensional frames and trusses with elastic and
geometric stiffness.  
</p>

<p>
     <b>Frame3DD</b> reads an Input Data file, containing joint coordinates, member geometry, material moduli, restrained joints, prescribed displacements, load information, and optionally, mass information if a modal analysis is to be carried out.  
<!-- (The Input/Output file is not a Matlab file.   Values are not input using Matlab matrix notation with square brackets.)-->
</p>

<p>
 <b>Frame3DD</b> appends the Input Data with Output Data, resulting in a single Input/Output file.  
The Output Data recapitulates the input information, gives joint displacements in global coordinates, member
end-forces in local coordinates, reactions in global coordinates, and natural frequencies and mode shapes in global coordinates.  
</p>

<p>
 <b>Frame3DD</b> can consider multiple static load cases in a single analysis.
</p>

<p>
 <b>Frame3DD</b> may optionally interface with Matlab.   
</p>

<p>
 <b>Frame3DD</b> may optionally interface with spreadsheet programs.   
</p>


<p>
<b>Frame3DD</b> is free software; you may redistribute it and/or modify it under 
the terms of the GNU General Public License (<a href="http://www.fsf.org/copyleft/gpl.html">GPL</a>) as published by the
<a href="http://www.fsf.org/">Free Software Foundation</a>.
<b>Frame3DD</b> is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License (<a href="http://www.fsf.org/copyleft/gpl.html">GPL</a>) for details.
</p>
<!--
Free software for static and dynamic structural analysis of 2D 
and 3D frames and trusses with elastic and geometric stiffness.
Computes the static deflections, reactions, internal element
forces, natural frequencies, mode shapes and modal participation
factors of two- and three- dimensional elastic structures using
direct stiffness and mass assembly.  Written in  C.  Source code
includes: frame analysis, LDL' decomposition, LU decomposition,
Newton-Raphson iteration, sub-space iteration, Stodola iteration,
Sturm eigenvalue check, and Static Condensation, Guyan Reduction,
Dynamic Condensation.  Graphical output and mode shape animation 
via <a href="http://www.gnuplot.info/">Gnuplot</a> version 4.2.
<hr>
<h4>SYNOPSIS </h4>
       frame3dd [Input/Ouput file]
<hr>
-->

<hr>
<h4>RELEASE DATE OF MOST RECENT VERSION:  January 1, 2009 (20090101) </h4>
    
<hr>
<h4>GETTING STARTED </h4>
<ol>
<li>       Read the Manual and Reference (this file).
<li>       Download and install the <b>Frame3DD</b> executable and Gnuplot for your operating system.  (See below.)
<li>       Download some of the example Input/Output files and compare them to the corresponding plots and movies.
<li>       Open a terminal window to run the program.  <br>
          <font face="courier">frame3dd [example Input/Output file]</font>
<li>     Read the computed Output Data, which is written to the end of the Input/Output file.
<!--     Running this program will create many files.  Most of them are used 
         for graphics and should be written to the  /tmp  directory. 
<li>      One of the files will be written to the current working directory and will be called 
         something like frA.plt   This file is used for plotting.   -->
<li>      Plot the structural configuration, the deformed structural shape, and mode-shapes, by starting <a href="http://www.duke.edu/~hpgavin/gnuplot.html">Gnuplot</a>, and simply typing ...<br>
           <font face="courier"> gnuplot>    load 'example.plt' </font> <br>
where the <font face="courier">example.plt</font> is the 'plot_file' specified as part of the Input Data (<a href="#InputData">See below.</a>) <br>
Observe a series of plots by hitting the Return (or Enter) key between plots.<br>
If a dynamic analysis was performed, you will enjoy an animation of selected mode shapes.<br>
Continue to hit the Return (or Enter) key until the last plot is displayed.  
</ol>

<b>Input Data and Output Data</b>

<p>
The Input Data file is a plain ASCII text file and must adhere to the format 
<a href="#InputData">described below</a>.
Several examples are given at <a href="http://www.duke.edu/~hpgavin/frame3dd/">http://www.duke.edu/~hpgavin/frame3dd/</a>. 
   Comments may be placed anywhere in the file and are helpful in organizing the Input Data.   
A comment begins with one of the following four characters:
     <font face="courier"># % ? ; </font> and continues to the end of the line.   
All commas in the Input Data are ignored.  
Floating point numbers must be entered as 1.234 1234 or 1.234e3.
Arithmatic operations such as 1.234*10^3 or 6*sin(pi/2) are <b>not</b> allowed
in the Input Data unless the <a href="#Matlab">Matlab interface</a> is used.  
</p>


<p>
To write your own Input Data file, start with an example that resembles the system you would like to analyze.  Carefully compare the
         graphical output of the example, the Output Data written at the end of
         the Input/Output file, the Input Data at the beginning of the
         Input/Output file, and the <a href="#InputData"><b>Input Data Format</b></a>, with the <a href="#Variables"><b>Variable Definitions</b></a>
         at the end of this page.   
</p>
<p>
You may edit Input Data files using a plain text editor
(<a href="http://thomer.com/vi/vi.html">vi</a>,
 <a href="http://www.gnome.org/projects/gedit/">gedit</a>,
 <a href="http://www.uni.edu/its/us/document/sun/picoqref.html">pico</a>,
 <a href="http://www.barebones.com/products/textwrangler/">TextWrangler (OS X)</a>, 
 <a href="http://www.apple.com/support/mac101/work/23/">TextEdit (OS X)</a>,
 <a href="http://notepad-plus.sourceforge.net/uk/site.htm">NotePad++ (Windows)</a>,
 <a href="http://www.textedit.org/">TextEdit (Windows)</a>,
 <a href="http://www.pcshareware.com/anotepad.htm">Notepad (Windows)</a>, 
etc.), 
using the Matlab interface, 
or using spreadsheet programs
(excel, 
 <a href="http://docs.google.com/">GoogleDocs</a>, 
 <a href="http://www.openoffice.org/">OpenOffice</a>, 
 <a href="http://projects.gnome.org/gnumeric/">Gnumeric</a>).
</p>
<p>
Details regarding the Matlab interface to <b>Frame3DD</b> are <a href="#Matlab">here</a>.<br>
Details regarding the spreadsheet interface to <b>Frame3DD</b> are <a href="#CSV">here</a>.<br>
</p>
<p>
It may take a few tries to get your Input Data just right.  
<b>Frame3DD</b> checks the Input Data for errors prior to anlayzing the system
and displays descriptive diagnostic messages when errors are found with the Input Data.  
</p>

<hr>
<h4>HOW TO INSTALL AND RUN THE LINUX OR SUN VERSIONS </h4>

For any (?) Linux 2.6 kernel running on an Intel or AMD processor.

<ol>
<li>        Download the <b>Frame3DD</b> binary file and save as "frame3dd" on your Desktop,
         or some other directory:<br> | <a href="http://www.duke.edu/~hpgavin/frame3dd/Linux/frame3dd">RIGHT-CLICK-HERE-FOR-LINUX</a> | <a href="http://www.duke.edu/~hpgavin/frame3dd/Sun/frame3dd">RIGHT-CLICK-HERE-FOR-SUN</a> |
<!-- <li>        RPM's for a variety of distributions are <a href="
http://software.opensuse.org/download/home:/jdpipe/">here</a>. -->
<li>        Download and save an example Input/Output file, such as <font face="courier">exA.frm</font>,
         on your Desktop, or some other directory:<br> | <a href="../examples/exA.frm">RIGHT-CLICK-HERE</a> |
<li>        Open a terminal window and ...<br>
            <font face="courier">...$   cd ~/Desktop</font><br>
            <font face="courier">...$   chmod +x frame3dd</font><br>
         Create a file called  <font face="courier">~/.bash_profile</font> containing the line:<br>
             <font face="courier">export PATH=".:$PATH"</font><br>
         Exit the terminal by typing ... <font face="courier">exit</font>
<li>        Run <b>Frame3DD</b> from a terminal window  ...<br>
            <font face="courier">...$   cd ~/Desktop</font><br>
            <font face="courier">...$   frame3dd example.frm</font><br>
         where <font face="courier">example.frm</font> is the name of your Input Data file. 

<li>       The graphical output is viewed with <a href="http://www.duke.edu/~hpgavin/gnuplot.html">Gnuplot</a>, which is probably already installed. 

         Open a terminal window and ...<br>
         <font face="courier">     ...$  cd ~/Desktop</font><br>
         <font face="courier">     ...$  gnuplot </font><br>
         <font face="courier">     gnuplot>  load 'example.plt'</font><br>
         where <font face="courier">example.plt</font> is the name of of the plot file specified in the Input Data. (<a href="#InputData">See below.</a>) <br>
         Hit the 'Return' key in the Terminal window to see the sequence of plots
         and animations until the <font face="courier"> gnuplot></font> prompt returns.<br>
To create a PostScript file of your plot, download and save the Gnuplot script:
<a href="../save.plt"><font face="courier">save.plt</font></a>, and use the following commands:<br>
<font face="courier">
      gnuplot> load 'save.plt'<br>
      gnuplot> !mv my-plot.ps another-file.ps<br>
</font>
After finishing with your plots, quit Gnuplot by typing ...  <br>
          <font face="courier"> gnuplot>  quit</font>
<li>        You may edit Input/Output files using a plain text editor 
(<a href="http://thomer.com/vi/vi.html">vi</a>,
<a href="http://www.gnome.org/projects/gedit/">gedit</a>, 
<a href="http://www.uni.edu/its/us/document/sun/picoqref.html">pico</a>) 
or a spreadsheet program
(<a href="http://projects.gnome.org/gnumeric/">Gnumeric</a>,
<a href="http://www.openoffice.org/">OpenOffice</a>).<br>
</ol>

<hr>
<h4>HOW TO INSTALL AND RUN THE OS X VERSIONS </h4>

For OS X running on a PowerPC (PPC) or Intel processor. 

<ol>
<li>        Download the <b>Frame3DD</b> application and save as "frame3dd" on your Desktop,
         or some other directory:<br> | <a href="http://www.duke.edu/~hpgavin/frame3dd/OSX-PPC/frame3dd">CTRL-CLICK-HERE-FOR-PPC</a> | <a href="http://www.duke.edu/~hpgavin/frame3dd/OSX-Intel/frame3dd">CTRL-CLICK-HERE-FOR-INTEL</a> |
<li>        Download and save an example Input/Output file, such as <font face="courier">exA.frm</font>,
         on your Desktop, or some other directory:<br> | <a href="../examples/exA.frm">CTRL-CLICK-HERE</a> |
<li>        Open a Terminal window (Applications > Utilities > Terminal) and ...<br>
            <font face="courier">...$   cd ~/Desktop</font><br>
            <font face="courier">...$   chmod +x frame3dd</font><br>
         Create a plain text file (using 
<a href="http://www.barebones.com/products/textwrangler/">TextWrangler</a> or TextEdit) called  <font face="courier">~/.profile</font> containing the line:<br>
             <font face="courier">export PATH=".:$PATH:/usr/local/bin"</font><br>
         Quit the Terminal application.  [APPLE] [Q]
<li>        Run <b>Frame3DD</b> from a Terminal window:  (Applications > Utilities > Terminal) ... <br>
            <font face="courier">...$   cd ~/Desktop</font><br>
            <font face="courier">...$   frame3dd example.frm</font><br>
         where <font face="courier">example.frm</font> is the name of your Input Data file.
<!-- <li>        Run <b>Frame3DD</b> from a Terminal window  (another way).
             Click on the <b>frame3dd</b> icon in your Desktop.
             A Terminal window should automatically open.
             When asked for the Input/Output file name, type ...<br>
               <font face="courier">/Users/your_name_here/Desktop/examples/exA.frm</font> -->
<li>     You may edit Input/Output files using a plain text editor
(<a href="http://www.barebones.com/products/textwrangler/">TextWrangler</a>,
TextEdit (Applications > TextEdit), 
<a href="http://macvim.org/OSX/index.php">vi</a>)
or a spreadsheet program
(<a href="http://www.openoffice.org/">OpenOffice</a>).<br>
If you use Apple's TextEdit, 
make sure you are in Plain Text mode  ...  [SHIFT] [APPLE] [T] ...  or ...   Format > Make Plain Text ... <br>
</ol>

<p>
       The graphical output is viewed with Gnuplot.  You'll need both <a href="
http://darwinports.com/">DarwinPorts</a> and <a href="http://gnuplot.darwinports.com">Gnuplot</a> for OS X.
</p>

         
<!--
<p>
For a version of Gnuplot for OS X-Intel, or for a version with mouse-scrolling and panning features,
install <a href="http://www.apple.com/macosx/features/x11/">X11</a> and <a href="http://developer.apple.com/tools/">Apple Development Tools</a>, and then <a href="http://maba.wordpress.com/2006/08/02/scientific-plotting-on-mac-os-x-using-gnuplot-and-plot/">compile Gnuplot from sources</a>.  
</p>
-->

<ol>
<li> First install DarwinPorts, and then install Gnuplot.
<li>Follow the instructions |<a href="http://darwinports.com/">HERE</a>| to download and install DarwinPorts.
<li> Follow the instructions |<a href="http://gnuplot.darwinports.com/">HERE</a>| 
to download and install Gnuplot 4.2.4 for OS X.
<li>        Test that Gnuplot works.
         Open a Terminal window (Applications > Utilities > Terminal) and ...<br>
          <font face="courier">    ...$  gnuplot</font><br>
<!--          <font face="courier"> gnuplot>  set term aqua</font><br> -->
          <font face="courier"> gnuplot>  plot sin(x)</font><br>
          <font face="courier"> gnuplot>  quit</font>
     
<li>        Visualize your <b>Frame3DD</b> analysis output.
         Open a Terminal window (Applications > Utilities > Terminal) and ...<br>
          <font face="courier">    ...$  cd ~/Desktop</font><br>
          <font face="courier">    ...$  gnuplot</font><br>
<!--          <font face="courier"> gnuplot>  set term aqua</font><br> -->
          <font face="courier"> gnuplot>  load 'example.plt'</font><br>
         where <font face="courier">example.plt</font> is the name of of the plot file specified in the Input Data. (<a href="#InputData">See below.</a>) <br>
         Hit the 'Return' key in the Terminal window to see the sequence of plots
         and animations until the <font face="courier"> gnuplot></font> prompt returns.<br>
         Save or print plots using [APPLE] [P].<br>
After finishing with your plots, quit Gnuplot by typing ...  <br>
          <font face="courier"> gnuplot>  quit</font>  
</ol>
</p>


<hr>
<h4>HOW TO INSTALL AND RUN THE DOS AND MS-WINDOWS VERSION</h4>

For DOS and MS-Windows, the following special guidelines should be followed:

<ol>
<li>        Download the <b>Frame3DD</b> executeable and save as "frame3dd.exe" on your Desktop,
         or some other directory:<br> | <a href="http://www.duke.edu/~hpgavin/frame3dd/DOS/frame3dd.exe">RIGHT-CLICK-HERE</a> |
<li>        Download and save an example Input/Output file, such as <font face="courier">exA.frm</font>,
         on your Desktop, or some other directory:<br> | <a href="http://www.duke.edu/~hpgavin/frame3dd/examples/exA.frm">RIGHT-CLICK-HERE</a> |
<li>       Create a directory called   <font face="courier">C:\tmp</font>   if it doesn't already exit.
<li>       The plot filename (plot_file) must have eight or fewer 
         characters before the period (.) and three or fewer characters
         after the period.   No more than one period (.) may be included
         in the file name. 
       The mesh data file name (<font face="courier">mesh_file)</font> should contain no more 
         than seven characters, and no character may be a period (.).
       The mode shape data file name (<font face="courier">mode_file</font>) should contain no more
         than five  characters, and no character may be a period (.).
       The <a href="http://www.duke.edu/~hpgavin/frame3dd/index.html">example Input/Output files</a>, exA.frm ... exJ.frm, adhere to these rules.  
<li>       You may need to change the line <font face="courier">/tmp/mesh_file</font> to <font face="courier">C:\tmp\mesh_file</font>
         and the line <font face="courier">/tmp/mode_file</font> to <font face="courier">C:\tmp\mode_file</font>
<li>       Run <b>Frame3DD</b> from a MS-DOS window or Command Prompt window ...<br>
(Start > Programs > Accessories > Command Prompt)<br>
<font face="courier">...> cd C:\Documents and Settings\your_name_here\My Documents\</font><br>
<font face="courier">...> frame3dd example.frm</font><br>
where <font face="courier">example.frm</font> is the name of your Input Data file.  


<li>       The graphical output is best viewed with the
<a href="http://downloads.sourceforge.net/gnuplot/gp424win32.zip?use_mirror=">
MS-Windows version of Gnuplot</a>.<br>
       The <a href="http://downloads.sourceforge.net/gnuplot/gp424dj2.zip?use_mirror=">DOS version of Gnuplot</a> works except for mode shape animation.<br>
       Right-clicking on one of these two links will download a <font face="courier">.zip</font> file for Gnuplot.<br>
       Click on <b>Open</b> to start WinZip, and <b>Extract</b> to create a <b>Gnuplot</b> folder in <b>My Documents</b>.<br>
       Open the folder <b>My Documents\Gnuplot\bin</b> and right click on <b>wgnuplot</b>
       to create a shortcut to your <b>Desktop</b>.<br>
       Clicking on the <b>wgnuplot</b> icon on the desktop will start Gnuplot.<br>
       To load the plot into Gnuplot, first change directories to 
       the directory in which you are running the <b>Frame3DD</b> analysis, by clicking
       on the <b>ChDir</b> button at the top of the Gnuplot window and typing ...<br>
         <font face="courier">C:\Documents and Settings\your_name_here\My Documents </font><br>
       Display the plot of your structure by typing ...<br>
         <font face="courier"> gnuplot>  load 'example.plt'</font><br>
         where <font face="courier">example.plt</font> is the name of of the plot file specified in the Input Data. (<a href="#InputData">See below.</a>) <br>
         Hit the 'Return' key in the Terminal window to see the sequence of plots
         and animations until the <font face="courier"> gnuplot></font> prompt returns.<br>
<li>       You may edit Input/Output Data files using a plain text editor
(<a href="http://notepad-plus.sourceforge.net/uk/site.htm">NotePad++</a>, 
<a href="http://internap.dl.sourceforge.net/sourceforge/cream/gvim-7-0-191.exe">vi</a>), or a spreadsheet program
(<a href="http://www.openoffice.org/">OpenOffice</a>, excel).<br>
<li>       You may wish to delete all the files in the <font face="courier">C:\tmp</font> directory when you have finished
         your analyses.  <br>
</ol>


<a name="FrameEd">
 <a href="http://www.duke.edu/~hpgavin/frame3dd/DOS/FrameEd.zip"><b>Frame_Ed</b></a> is a Windows GUI for the 20020103 version of <b>Frame3DD</b> (Jan 3, 2002).<br>
 The .zip file <a href="http://www.duke.edu/~hpgavin/frame3dd/DOS/FrameEd.zip">FrameEd.zip</a> includes: 
 <ul>
 <li>the GUI executeable, Frame_Ed.exe
 <li>the frame analysis executeable, Frame3d.exe, for the 20020103 version
 <li>an example input file, exG.frm, for the 20020103 version
 <li>a template for the input data file, ex2002.frm, for the 20020103 version
 </ul>
 Differences between the 2002 and the current versions of <b>Frame3DD</b> are:
<ul>
 <li> The 2002 version does not support comments in the Input Data.
 <li> The 2002 version does not support multiple load cases.
 <li> The 2002 version does not support roll angles for member orientation.
 <li> The 2002 version uses the Jacobi method for modal analysis.
 <li> The 2002 version requires specification of joint masses and inertias for every joint.
 <li> The 2002 version does not support panning of the animation.  
 <li> The 2002 version uses Guyan reduction for matrix condensation, 
to match the first mode.
</ul>
</a>

<hr>
<a name="Matlab">
<h4>MATLAB INTERFACE</h4>

<p>
<b>Frame3DD</b> may optionally be executed from within Matlab on any platform,
via the Matlab interface function <a href="http://www.duke.edu/~hpgavin/frame3dd/Matlab/frame_3dd.m">frame_3dd.m</a> 
<pre>
function [D,R,F,L,Ks] = frame_3dd(XYZ,JTS,RCT,EAIJ,P,W,D)
% [D,R,F,L,Ks] = frame_3dd (XYZ,JTS,RCT,EAIJ,P,W,D)
%
% Solve a a three-dimensional frame analysis problem 
%
% INPUT DATA:
%
%  XYZ : a 4xJ matrix containing the XYZ coordinate of each joint
%          row 1 = X-axis coordinate  for each joint
%          row 2 = Y-axis coordinate  for each joint
%          row 3 = Z-axis coordinate  for each joint
%          row 4 = rigid radius       for each joint     
%
%  JTS : a 2xB matrix indicating which 2 joints each beam element connects
%          row 1 = the 'starting' joint  for each beam
%          row 2 = the 'ending'   joint  for each beam
%
%  RCT : a 6xJ matrix indicated which joints have reactions
%        0: the joint has no reaction in that degree of freedom,
%        1: the joint does have a reaction in that degree of freedom.
%
% EAIJ : a 9xB containing the section and modulus properties of each beam 
%         row 1 = Ax  cross section area                   for each beam
%         row 2 = Asy shear area y-direction               for each beam
%         row 3 = Asz shear area z-direction               for each beam
%         row 4 = Jxx torsional moment of inertia - x axis for each beam
%         row 5 = Iyy bending moment of inertia - y axis   for each beam
%         row 6 = Izz bending moment of inertia - z axis   for each beam
%         row 7 = E   elastic modulus                      for each beam
%         row 8 = G   shear   modulus                      for each beam
%         row 9 = p   roll angle                           for each beam
%         
%    P : a 6xJ matrix containing the components of the external 
%        forces and moments applied to each joint.
%          row 1 = Joint Force in X-direction    for each joint
%          row 2 = Joint Force in Y-direction    for each joint
%          row 3 = Joint Force in Z-direction    for each joint
%          row 4 = Joint Moment about X-axis     for each joint
%          row 5 = Joint Moment about Y-axis     for each joint
%          row 6 = Joint Moment about Z-axis     for each joint
%
%    W : a 3xB matrix containing the unif. dist. load on each beam element
%    D : a 6xJ matrix of prescribed displacements at the reaction DoF's
%
% OUTPUT DATA:
%
%  D : a 6xJ matrix   of the deflections and rotations of each joint
%  R : a 6xJ matrix   of the reaction forces and moments 
%  F : a 12xB matrix  of the end forces of each beam element 
%  L : a 1xB vector   of the length of each beam element 
% Ks : a 6Jx6J matrix of the structural stiffness matrix 
</pre>
</p>

<p>
This m-function, <a href="http://www.duke.edu/~hpgavin/frame3dd/Matlab/frame_3dd.m">frame_3dd.m</a>,
executes the system command
(frame3dd on Linux or OS-X, frame3dd.exe on Windows)
to compute the solution.  
The <b>Frame3DD</b> executable 
(frame3dd on Linux or OS-X, frame3dd.exe on Windows)
must be saved to a directory within
a path appropriate for your system, or must be copied to your current
working directory.
</p>

<p>
<ol>
<li> The Matlab file for your problem first sets up the various matrices defining the problem for analysis and calls frame_3dd.m <br> 
A <a href="http://www.duke.edu/~hpgavin/frame3dd/Matlab/exA.m">Matlab version of Example A</a> illustrates
how to analyze problems using the Matlab interface to <b>Frame3DD</b>.<br>
Matlab versions of the other examples are forthcoming.
<li> frame_3dd.m writes IOdata.fmm,
<li> The executeable frame3dd appends IOdata.fmm
with the Output Data, and writes IOdata_out.m, containing the Output Data.<br>
An m-file containing the Output Data is written whenever the frame3dd   
executeable is run on a file ending in ".fmm",
whether or not the analysis is initiated by frame_3dd.m.
<li> frame_3dd.m runs IOdata_out.m, containing the matrices D, R, F, L, and Ks,
<li> frame_3dd.m returns D, R, F, L, and Ks, to the Matlab workspace, or to your Matlab function. 
</ol>
</p>

<p>
This m-function interface to <b>Frame3DD</b>
is currently capable of static analyses.  
It does not (yet) implement the following features of <b>Frame3DD</b>:  
<ul>
  <li> Matlab functions for graphical display of the results 
  <li> point forces applied between the joints of a member
  <li> temperature loads
  <li> multiple load cases 
  <li> modal analysis
  <li> matrix condensation
</ul>
Adding these features would require Matlab programming, only.
</p>

<hr>
<a name="CSV">
<h4>SPREADSHEET INTERFACE</h4>

<p>
Input/Output data for <b>Frame3DD</b> may be read and written using spreadsheet programs
(excel, 
 <a href="http://docs.google.com/">GoogleDocs</a>, 
 <a href="http://www.openoffice.org/">OpenOffice</a>, 
 <a href="http://projects.gnome.org/gnumeric/">Gnumeric</a>).
</p>

<p>
Any of the  <a href="http://www.duke.edu/~hpgavin/frame3dd/#examples"><b>Frame3DD</b> example Input Data files</a> may be opened with a spreadsheet program.  
When editing an Input Data file with a spreadsheet program, save it in 
.CSV format (with a ".CSV" filename extension).
</p>

<p>
When run on a .CSV file,
<b>Frame3DD</b> appends results to the Input Data .CSV file 
as plain text and also 
writes results of the static analyses to a spreadsheet with a filename ending in "_out.CSV".   These files may be viewed, edited, pre-processed,
and post-processed with spreadsheet programs.  
</p>

<p>
The results spreadsheet includes an index table specifying the row numbers
of each type of result.   <br>
Sections of an example results spreadsheet are shown below.<br>
<img src="img/CSV1.png" align="center" border="0"><br>
This example has three load cases.  <br> <br>
Displacements for load case 1 start at row 21 and end at row 25.<br>
Beam end forces for load case 1 start at row 28 and end at row 35.<br>
Reaction forces for load case 1 start at row 38 and end at row 42.<br><br>
Displacements for load case 2 start at row 49 and end at row 53.<br>
Beam end forces for load case 2 start at row 56 and end at row 63.<br>
Reaction forces for load case 2 start at row 66 and end at row 70.<br><br>
Displacements for load case 3 start at row 77 and end at row 81.<br>
Beam end forces for load case 3 start at row 84 and end at row 91.<br>
Reaction forces for load case 3 start at row 94 and end at row 98.<br><br>
</p>

<p>
For any <b>Frame3DD</b> .CSV results file, the spreadsheet cells containing the result
row numbers are given in the following table.<br>
<table border="1">
<font face="Arial, Helvetica, sans-serif" size="2">
<tr> <th>Load Case 1</th> <th>First Row</th> <th>Last Row</th></tr>
<tr> <td>Joint Displacements</td> <td>C-10</td><td>C-11</td></tr>
<tr><td>Beam End Forces</td> <td>D-10</td><td>D-11</td></tr>
<tr><td>Reaction Forces</td> <td>E-10</td><td>E-11</td></tr>
<tr> <th>Load Case 2</th> <th>First Row</th> <th>Last Row</th></tr>
<tr> <td>Joint Displacements</td> <td>C-12</td><td>C-13</td></tr>
<tr><td>Beam End Forces</td> <td>D-12</td><td>D-13</td></tr>
<tr><td>Reaction Forces</td> <td>E-12</td><td>E-13</td></tr>
<tr> <th>Load Case 3</th> <th>First Row</th> <th>Last Row</th></tr>
<tr> <td>Joint Displacements</td> <td>C-14</td><td>C-14</td></tr>
<tr><td>Beam End Forces</td> <td>D-14</td><td>D-14</td></tr>
<tr><td>Reaction Forces</td> <td>E-14</td><td>E-14</td></tr>
<tr> <td><i>et cetera</i></td> </tr>
</table>
</p>

<p>
The columns of the spreadsheet results file are arranged as follows.<br>
Displacement results are in columns A through G:<br>
<img src="img/CSV2.png" align="center" border="0"><br><br>
Beam end force results are in columns A through H:<br>
<img src="img/CSV3.png" align="center" border="0"><br><br>
Reaction results are in columns A through G:<br>
<img src="img/CSV4.png" align="center" border="0"><br><br>
</p>

<p>
Modal analysis results are not (yet) written to the .CSV formatted output file. 
</p>

<hr>
<h4>STRUCTURAL MODELING </h4>

<!--
<p>
       For an introduction to the theory of framed structures, check 
       <a href="http://www.duke.edu/~hpgavin/ce131/index.html">http://www.duke.edu/~hpgavin/ce131/</a> and <a href="http://www.duke.edu/~hpgavin/ce283/index.html">http://www.duke.edu/~hpgavin/ce283/</a>.
</p>
-->

<b>Units</b><br>

<p>
     The Output Data is formated using floating point display, not scientific notation.  To
     obtain the greatest number of significant digits in the output, use units of force
     and length such that the modulus of elasticity occupies three to five figures before 
     the decimal point.  For example, if the frame to be analyzed is made of steel or
     aluminum, use units of (kips (1000 pounds) and inches), or (kilo-Newtons, millimeters, 
     and kiloTons), or (GigaNewtons, meters, and MegaTons).
</p>


<b>Cross Section Properties and Coordinate Transformation</b><br>

<p>
To analyze a structure as a "truss" with this software, specify <i>>Jxx</i>, <i>Iyy</i>, and <i>Izz</i>
to be much smaller than they would be normally, but not zero.   If the shear forces and bending
moments in your structural elements are extremely small, then your structural model
represents a "truss" approximation of the actual structure.    See example A.  
</p>

<p>
     Cross-sectional properties of beams and bars are specified in a local
     coordinate system, in which the <i>x</i>-axis of the local coordinate system
     is oriented along the axis of the beam or bar element.  <i>Ax</i> is the
     cross-sectional area of the beam or bar, which is given as the area
     perpendicular to its local <i>x</i>-axis.   The local <i>y</i>-axis and <i>z</i>-axis are aligned
     with the principle directions of the cross section.  The bending moments
     of inertia, <i>Iyy</i> and <i>Izz</i>, are the principle bending moments of inertia for
     the cross section.   
</p>

<!--
<p>
     The beam cross section shapes are assumed to be symmetric about 
     both the local <i>Y</i>-axis and the local <i>Z</i>-axis.  By 'rolling' the beam about 
     the local <i>x</i>-axis, however,  transverse loads in the local <i>y</i>-direction can
     cause bending about both the <i>Z</i>-axis and the <i>Y</i>-axis and shear deformation
     in both the <i>Y</i>-direction and <i>Z</i>-direction.  
</p>
-->

<p>
When a beam or bar element is placed into the structure
     it is translated and rotated and optionally rolled about its local <i>x</i>-axis.   
     By allowing the member to be
     'rolled' about its local <i>x</i>-axis during the stiffness matrix assembly process,
     cross-axis bending effects are included.
     Issues related to rolling of cross sections and cross-axis bending
     are important only for three-dimensional structural systems or planar
     structures with out-of-plane deformation, such as grillages.  For planar
     structures with deformations only in the plane, these issues do not arise. 
     In addition, these issues do not arise for three-dimensional structures
     made entirely of elements for which <i>Iyy=Izz</i>, i.e., square and circular cross
     sections.
</p>

<p>
     The default coordinate transformation process starts with the beam
     element's centroidal axis placed along the global <i>X</i>-axis, and the principle
     axes of the cross section are aligned with the global <i>Y</i>- and <i>Z</i>-axes.  
     To place the beam in the structure, first it is rotated about the 
     global <i>Y</i>-axis, then about the global <i>Z</i>-axis, then 'rolled' or spun
     about the local <i>x</i>-axis.   If the roll angle is zero, this process results
     in a transformation for which loads in the global <i>Z</i>-direction will cause no
     cross-axis bending.   In this code, this type of coordinate transformation is
     called "<i>Z</i>-axis is vertical" and is selected primarily for the sake of visualization
     with Gnuplot, in which the <i>Z</i>-axis is vertical for all three-dimensional plots. 
</p>
 
<p>
     An alternative, more customary, coordinate transformation process is also
     implemented in the software.  In the alternative coordinate transformation
     process, the beam is first rotated about the global <i>Z</i>-axis, then about the
     global <i>Y</i>-axis, then rolled about the local <i>x</i>-axis.  If the roll angle is zero,
     this transformation results in a beam with no cross-axis bending due to 
     loads are applied in the global <i>Y</i>-direction.   In the code, this type of
     transformation is called "<i>Y</i>-axis is vertical."   Again, for planar structures, 
     with no out-of-plane bending, which lie in the global <i>X-Y</i>, <i>Y-Z</i>, or <i>X-Z</i> planes,
     and for structures made entirely of bars with Iyy=Izz, the details of the
     coordinate transformation procedure do not matter.  
     For a derivation of the alternative coordinate transformation method, refer
     to section 8.3 of the textbook <i>Matrix Analysis of Structures</i>
by A. Kassimali.
</p>

<b> Cross Section Properties of some Steel Sections </b> <br>

<ul>

<li><a href="http://en.wikipedia.org/wiki/Structural_steel">Structural Steel</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_ibeam_properties.htm">Steel W-section I beams #1</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_ibeam_properties_2.htm">Steel W-section I beams #2</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_ibeam_s_properties.htm">Steel S-section I beams</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_angle_properties.htm">Steel Angles #1</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_angle_properties_2.htm">Steel Angles #2</a>
<li><a href="http://www.engineersedge.com/standard_material/Steel_channel_properties.htm">Steel Channels</a>
<li><a href="http://www.engineersedge.com/I_beams_aluminum.htm">Aluminum I beam</a>
<li><a href="http://www.engineersedge.com/channel_aluminum.htm">Aluminum Channels</a>
</ul>

<!-- <li><a href="http://www.aisc.org/Content/NavigationMenu/ePubs/ePubs_Home/AISC_SHAPES_DATABASE/AISC_SHAPES_DATABASE.htm">AISC Shapes Database</a>-->

<!--
efunda
<ul>
<li><a href="http://www.efunda.com/math/areas/RolledSteelBeamsW.cfm">Steel W-section I beams</a> 
<li><a href="http://www.efunda.com/math/areas/RolledSteelBeamsS.cfm"> Steel S-section I beams</a> 
<li><a href="http://www.efunda.com/math/areas/RolledSteelChannels.cfm">Steel Channels</a> 
<li><a href="http://www.efunda.com/math/areas/RolledSteelBeamsL.cfm">Steel Angles</a> 
<li><a href="http://www.efunda.com/math/areas/AluminumIbeams.cfm">Aluminum I beams</a> 
<li><a href="http://www.efunda.com/math/areas/AluminumChannels.cfm">Aluminum Channels</a> 
</ul>
-->

<b> Cross Section Properties of some Standard Wood Sections</b><br>

<font face="courier" size="3">
<pre>
             Ax      Asy     Asz     Jxx     Iyy     Izz   
             in^2    in^2    in^2    in^4    in^4    in^4

     2x3    3.750   2.500   2.500   1.776   1.953   0.708 
     2x4    5.250   3.500   3.500   2.875   6.359   0.984
     2x5    6.750   4.500   4.500   3.984  11.390   1.266  
     2x6    8.250   5.500   5.500   5.099  20.800   1.547 
     2x8   10.850   7.233   7.233   7.057  47.630   2.039
     2x10  13.880   9.253   9.253   9.299  98.930   2.602  
     2x12  16.880  11.253  11.253  11.544 178.000   3.164 
     2x14  19.880  13.253  13.253  13.790 290.800   3.727
</pre>
</font>

<b> Elastic Material Properties of Douglas Fir</b><br>

<font face="courier" size="3">
<pre>
     Modulus of Elasticity (E)         1700 - 1900 ksi
     Shear Modulus         (G)          640 -  710 ksi
</pre>
</font>

<b>Torsion</b><br>

<p>
     Polar Moments of Inertia depend on the shape of the cross-section.  
         For sections with a circular cross section:   <br>
<i>                Jxx = Iyy + Izz </i>

<p>
For sections with a solid rectangular cross section
(width=<i>b</i>, depth=<i>d</i>):   <br>
<i>Jxx =  Q d b^3    ( b < d ) </i><br></i>
where
<i>Q = 1/3 - 0.2244 / (d/b + 0.1607); </i>
<!-- a = 0.224435; b = 0.160705 -->
<br>

                <img src="img/tors.jpg" align="center" border="0"><br>
         For more details, see page 271 of Timoshenko and Goodier (1951).  
</p>

<p>
         For open sections made up of thin plates (length=<i>b</i>, thickness=<i>t</i>):   <br>
<i>                Jxx = Sum [  b t^3 / 3 ] </i>
</p>

<p>
         For closed single-box sections made up of thin plates: <br>
<i> Jxx = 4 Ax^2 / Sum [ b / t ] </i>
</p>

<p>
Restraint to <a href="http://www.archoneng.com/tptasm.html">warping deformation</a> is not considered in the analysis.  
</p>


<b> Connections</b><br>

<p>
All connections in a <b>Frame3DD</b> analysis are moment-resisting.
Moment-free conditions can be modeled explicitely only at pinned reactions.  
Internal hinges may be modeled using a short element with 
low values of <i>Jxx</i>, <i>Iyy</i>, and <i>Izz</i>. 
Beams may be considered infinitely rigid within a sphere of a specified radius around a joint.
</p>

<b>Shear Deformation, Geometric Stiffness, and Buckling </b>

<p>
     The <b>Frame3DD</b> analysis will optionally include the effects of shear deformation and/or geometric stiffness.
The geometric stiffness matrix includes the effects of axial forces
on bending and warping-torsoinal behaviors.  
When both shear deformations and geometric stiffness effects are included, the geometric stiffness matrix includes shear deformation effects.  
If shear deformation effects are not to be included, simply set the <i>shear</i>
variable to zero (0).  If shear deformation effects are neglected then the
values for the shear areas <i>Asy</i> and <i>Asz</i> <b>are not</b> used in the calculations.
Any non-zero value for <i>Asy</i> and <i>Asz</i> will do.  
</p>

<p>
To determine the buckling load of a structure, include geometric stiffness
effects and increase the loads until the stiffness matrix ceases to be positive-
definite.   Additionally, you may compute the fundamental natural frequency of
the structure and observe how the fundamental frequency decreases with increased
loading.  In principle, the fundamental frequency is zero when the loads are at the buckling
load.  
</p>

<p>
If geometric stiffness effects are included in the analysis and if the loads
are close to the buckling load of the structure, then it is recommended to put
two or three joints along each beam element.  (i.e. divide each beam element
into three or four beam segments).   Including these extra joints is strongly
recommended if a buckling analysis is to be performed.  
</p>

<p>
Whenever geometric stiffness effects are included, the analysis is non-linear
and superposition does not hold.  The geometric stiffness matrix is a secant
stiffness matrix.  In most cases the geometric stiffness matrix lies between the
un-stressed stiffness matrix and the tangent stiffness matrix.  
</p>
<b> Loads</b><br>

<p>
Four types of static loads may be specified.  
<ul>
<li>Concentrated static force loads and concentrated static moments may be applied to joints.
<li>Concentrated static force loads may be applied to members between the joints.
<li>Uniformly distributed static loads may be applied over entire members.
<li>Thermal loads assume a linear temperature gradient through member cross sections.
</ul>
Multiple static load cases are generated by specifying 
<a href="#Variables">the variable nL</a>
in the 
<a href="#InputData">Input Data</a>, and by specifying the four types of loads for each load case, as shown in <a href="../examples/exA.frm">Example A</a> and <a href="../examples/exB.frm">Example B</a>.
</p>

<b> Support Conditions and Reactions </b><br>

<p>
Each joint has six degrees of freedom: three translations
in the global X, Y, and Z directions and three rotations about the
global X, Y, and Z axes.    The support conditions of the structural
frame are specified by fixing the degrees of freedom aligned
with the reaction forces.   Displacements at the fixed reactions
are either zero, or may be prescribed.  Static reaction forces are
computed and are written in the Output Data.  
Elastic support conditions may be specified by additional elements
with the desired flexibility.  

</p>

<b> Prescribed Displacements </b><br>

<p>
Static joint displacements may be prescribed only at restrained degrees of freedom.
Prescribed displacements are specified separately for each load case.  
</p>

<b> Dynamic Modal Analysis </b><br>

<p>
The <b>Frame3DD</b> analysis will optionally include a dynamic analysis for natural modes of vibration. 
Dynamic properties may be obtained for the un-stressed or the stressed
structure by either neglecting or including geometric stiffness effects.
The mass may be modeled using either the consistent mass matrix or the 
lumped mass matrix.
</p>

<p>
The natural frequencies and mode-shapes of the structural frame may be computed from the stiffness and mass matrices using either the Stodola method or
the Jacobi method.    The solution method and the convergence tolerance for these iterative methods is specified in the Input Data.  
The Input Data also specifies the mass density of each member, 
additional mass carried by the member, and extra mass or inertia
carried by the joints.   
A specified set of modes may be animated within Gnuplot.  
</p>

<p>
<b>Frame3DD</b> has the capability of computing the natural frequencies
and mode-shapes of frames that are 
fully restrained, partially restrained, or completely un-restrained.
Partially restrained frames have up to six independent rigid body modes.  
A completely un-restrained frame has six independent rigid body modes.  
The stiffness matrix for
partially restrained and completely unrestrained structures is not invertible. 
Such structural configurations can not carry static loads.  
Furthermore, the numerical methods used in computing the
natural frequencies and mode shapes presume that the stiffness matrix
is invertible.  
A  numerical trick called "frequency shifting" overcomes this difficulty.  
Presuming the mass matrix [<i>M</i>] is   
invertible, then given a positive scalar value <i>s</i> that
is large enough, the matrix [[<i>K</i>] + <i>s</i>[M</i>]] is invertible,
even if the stiffness matrix [<i>K</i>] is not invertible. 
So, for the purpose of computing the natural frequencies of frames
with rigid-body modes, [<i>K</i>] is replaced by
[[<i>K</i>]+s[<i>M</i>]].  
The desired natural frequencies
are shifted by an amount equal to the "shift" variable, <i>s</i>,
and are shifted back, after the natural frequencies and mode shapes are found.
The mode shapes are un-changed.
</p>

<p>
A Sturm check is carried out to determine if any eigen-values were missed.  
</p>

<p>
If a dynamic analysis is not to be performed, simply set the
<a href="#Variables"<i>nM</i> variable</a> (the number of desired modes) to zero (0).   
If <i>nM</i> is set to zero,
<b>Frame3DD</b> will stop reading the Input/Output file at this point.   
If <i>nM</i> is set to zero, there is no need to provide numerical values for the quantities from <i>lump</i> to <i>m[3] ... </i>.
(See the 
<a href="#InputData"><b>Input Data Format</b></a> specification and 
<a href="#Variables"><b>Variable Definitions</b></a>
below.)
</p>

<b> Matrix Condensation </b><br>

</p>
Reduced order stiffness and mass matrices may be computed via a static
condensation, Guyan reduction, or dynamic condensation.  The condensed mass
and stiffness matrices are saved as text files Kc and Mc.  The Guyan reduction
method is generalized so that the condensed matrices match the fundamental
frequency of the original structure exactly.  The dynamic condensation method
is a pseudo-inverse-modal-matrix method, and the resulting condensed mass and
stiffness matrices may be ill-conditioned.  The pseudo-inverse of the modal
matrix is computed using a regularization method which somewhat improves the
conditioning of the condensed mass and stiffness matrices.  
</p>

<hr>
<h4>NUMERICAL DETAILS</h4>


<p>       <b>Frame3DD</b> imposes no limit on the number of degrees of freedom.
       Dynamic memory allocation is accomplished by the public-domain routines
       found in Press, W.H., et al,  <i>Numerical Recipes In C</i>, (Cambridge, England: Cambridge University Press, 1991).
</p>



<p>       Solutions of the matrix equation, <i>K d = f</i>, make use of LDL'
       decomposition/back-substitution with sparse-matrix short-cuts and
       iterative improvement for enhanced speed and accuracy.
</p>

<p>       When the program is executed, various solution errors are displayed to the
       screen and are written to the Input/Output file.   Iterative improvements
       to the LDL' back-substitution make use of a quasi Newton-Raphson method:<br>

                 <i>K dD(i) = F - K D(i)</i><br>
                   <i>D(i+1) = D(i) + dD(i)</i><br>

       where,<br>   <i>D(i) </i>   is the displacement vector at iteration <i>i</i> , <br>
                <i>K </i>     is the stiffness matrix ,  <br>
                <i>F </i>     is the applied load vector , <br>
                <i>dD(i) </i>  is the incremental displacement vector at iteration <i>i</i> , and <br>
                <i>D(i+1)</i>  is the displacement vector at iteration <i>i+1</i> <br>

       At each LDL' back-substitution iteration, the equilibrium error is displayed
       to the screen as the `RMS matrix error'.  This error is the root-mean-square of
       <i>dD(i)</i>.   Iterations are stopped when this error decreases by less than ten
       percent in an iteration.  
</p>

<p>       When geometric stiffness effects are included, the solution is obtained
       iteratively, using a quasi Newton-Raphson method:<br>

                <i>K(D(i)) dD(i) = F - K(D(i)) D(i)</i><br>
                      <i>D(i+1)  =  D(i) + dD(i)</i><br>

       where,<br>   <i>D(i)  </i>  is the displacement vector at iteration <i>i</i>,<br>
                <i>K(D(i))  </i>is the secant stiffness matrix at displacements <i>D(i)</i><br>
                <i>F </i>     is the applied load vector ,<br>
                <i>dD(i) </i>  is the incremental displacement vector at iteration <i>i</i> , and<br>
                <i>D(i+1)</i>  is the displacement vector at iteration <i>i+1</i><br>

       At each Newton-Raphson iteration, the relative equilibrium error is displayed
       to the screen.   This error is the root-mean-square of (<i>F - K(D(i)) D(i)</i>)
       divided by the root-mean-square of <i>F</i>.   Newton-Raphson iterations stop when
       this error is less than the convergence tolerance.  The convergence tolerance
       is specified as the convergence tolerance for the modal-analysis. 
       The default value is 0.00001   
</p>

<p>       The accuracy of the final solution is checked using a global equilibrium check
       and the equilibrium error is reported.  The `RMS relative equilibrium error' is
       the root-mean-square of internal member forces and external applied loads at
       every un-restrained degree of freedom normalized by the root-mean-square of
       the applied loads.   This equilibrium error is typically less than one part
       in one-billion when geometric stiffness effects are neglected.  If an analysis
       has an RMS equilibrium error larger than 0.001, the results should not be
       trusted.  
</p>

<p>       Natural frequencies and mass-normalized mode-shapes of the lower modes may be
       obtained using a generalized Jacobi sub-space iteration procedure
       or a Stodola iteration procedure.
Sub-space iterations are stopped when the error is less than the specified
       convergence tolerance.  The error is defined here as <br>

                <i>error = | fN(i) - fN(i-1) | / fN(i) </i><br>

       where<br>   <i> fN(i)</i>    is the highest natural frequency computed at iteration <i>i</i> ,<br>
                <i>fN(i-1)</i>  is the highest natural frequency computed at iteration <i>i-1</i> ,<br>
</p>



<hr>
<h4>ENHANCEMENTS PROJECTED FOR FUTURE VERSIONS </h4>

<ul>
<li>       Trapezoidally distributed loads
<li>       A GUI (ideally GPL'able)<br>
<ul>
 <li> <a href="DOS/FrameEd.zip"><b>Frame_Ed</b></a> is a Windows GUI for the 20020103 version of <b>Frame3DD</b> (Jan 3, 2002).
 (<a href="#FrameEd">See above</a>.)
 <li> Work has been done on a <a href="http://www.trolltech.com/products/qt">Qt</a> GUI (Fall 2004)<br>
 <li> A Microstran-Viewer interface is in the works
<a href="http://frame3dd.svn.sourceforge.net/viewvc/frame3dd/trunk/src/microstran/">here</a>.
(Summer 2008)
 <li> A Google-sketchup interface is in the works <a href="http://www.steelweb.info/whatsnew.htm">here</a>
and possibly 
<a href="http://chakkree.blogspot.com/2008_05_01_archive.html">here</a>.
(Summer 2008)
</ul>
<li>       Consistent mass matrix including the effects of shear deformation on rotatory inertia 
<li>       Dynamic time-history analysis with the HHT-alpha method
<li>       Spectral modal superposition
<li>       Member end joint releases
<li>       Linearly tapered beam elements
<!-- <li>       Membrane elements  -->
<!-- <li>       Plate elements   -->
<li>       Sparse matrix storage and <a href="http://ascendwiki.cheme.cmu.edu/Survey_of_sparse_matrix_software">sparse matrix solvers</a>
<li>       ... your recommendations ... send me an e-mail!
</ul>

<hr>
<a name="InputData">
<h4>INPUT DATA FORMAT </h4>
(Click <a href="template.frm">here</a> to download an Input Data template, template.frm)<br>
</a>

<font face="courier" size="3">
<pre>
A one-line descriptive title of your analysis MUST be the FIRST line of the file

nJ                                     % number of joints
nB                                     % number of beam elements
nL                                     % number of static load cases, up to 127

  J[1]       x[1]       y[1]       z[1]     r[1]       
    :          :          :          :        :  % joint numbers and coordinates
  J[nJ]      x[nJ]      y[nJ]      z[nJ]    r[nJ]


                                            % member numbers, loc'ns, and prop's
M[1]  J1[1]  J2[1]  Ax[1]  Asy[1]  Asz[1]  Jxx[1]  Iyy[1]  Izz[1]  E[1]  G[1]  p[1]
  :      :      :      :       :       :       :       :       :     :     :     :
M[nB] J1[nB] J2[nB] Ax[nB] Asy[nB] Asz[nB] Jxx[nB] Iyy[nB] Izz[nB] E[nB] G[nB] p[nB]

nR                                            % number of joints with reactions 
  J[1]    Rx[1]   Ry[1]   Rz[1]   Rxx[1]  Ryy[1]  Rzz[1]
    :        :       :       :        :       :       :       % 0:free, 1:fixed 
 J[nR]    Rx[nR]  Ry[nR]  Rz[nR]  Rxx[nR] Ryy[nR] Rzz[nR]

shear                               % 1: include shear deformation;   0: don't 
geom                                % 1: include geometric stiffness; 0: don't 
/tmp/mesh_file                      % mesh data file name for plotting
plot_file                           % plot file name 
exagg                               % exaggerate deformations 
anlyz                               % 1: stiffness analysis; 0: data check only 

% begin static load case 1 ---------------------------------------------------
nF                                                    % number of loaded joints 
  J[1]    Fx[1]   Fy[1]   Fz[1]   Mxx[1]  Myy[1]  Mzz[1]
    :        :       :       :        :       :       :          % nodal forces
  J[nF]   Fx[nF]  Fy[nF]  Fz[nF]  Mxx[nF] Myy[nF] Mzz[nF]

nW                                        % number of uniform distributed loads
  M[1]    Wx[1]   Wy[1]   Wz[1]
    :        :       :       :     % uniform member loads in member coordinates
  M[nW]   Wx[nW]  Wy[nW]  Wz[nW]

nP                                         % number of concentrated point loads
  M[1]    Px[1]   Py[1]   Pz[1]   x[1]     %  point loads in member coordinates
    :        :       :       :      :      %  and x=distance from coordinate J1
  M[nP]   Px[nP]  Py[nP]  Pz[nP]  x[nP]

nT                                 % number of members with temperature changes 
  M[1]  a[1]   hy[1]   hz[1]   Ty+[1]  Ty-[1]  Tz+[1]  Tz-[1]     % member no., 
    :     :       :       :        :       :       :       :      % temp. coef. 
  M[nT] a[nT]  hy[nT]  hz[nT]  Ty+[nT] Ty-[nT] Tz+[nT] Tz-[nT] % sizes, & temps 

nD                             % number of joints with prescribed displacements
  J[1]   Dx[1]  Dy[1]  Dz[1]  Dxx[1]  Dyy[1]  Dzz[1]
    :       :      :      :       :       :       :  % prescribed displacements
  J[nD]  Dx[nD] Dy[nD] Dz[nD] Dxx[nD] Dyy[nD] Dzz[nD]
%  end  static load case 1 --------------------------------------------------

% begin static load case 2 --------------------------------------------------
nF                                                    % number of loaded joints 
  J[1]    Fx[1]   Fy[1]   Fz[1]   Mxx[1]  Myy[1]  Mzz[1]
    :        :       :       :        :       :       :          % nodal forces
  J[nF]   Fx[nF]  Fy[nF]  Fz[nF]  Mxx[nF] Myy[nF] Mzz[nF]

nW                                        % number of uniform distributed loads
  M[1]    Wx[1]   Wy[1]   Wz[1]
    :        :       :       :     % uniform member loads in member coordinates
  M[nW]   Wx[nW]  Wy[nW]  Wz[nW]

nP                                         % number of concentrated point loads
  M[1]    Px[1]   Py[1]   Pz[1]   x[1]     %  point loads in member coordinates
    :        :       :       :      :      %  and x=distance from coordinate J1
  M[nP]   Px[nP]  Py[nP]  Pz[nP]  x[nP]

nT                                 % number of members with temperature changes 
  M[1]  a[1]   hy[1]   hz[1]   Ty+[1]  Ty-[1]  Tz+[1]  Tz-[1]     % member no., 
    :     :       :       :        :       :       :       :      % temp. coef. 
  M[nT] a[nT]  hy[nT]  hz[nT]  Ty+[nT] Ty-[nT] Tz+[nT] Tz-[nT] % sizes, & temps 

nD                             % number of joints with prescribed displacements
  J[1]   Dx[1]  Dy[1]  Dz[1]  Dxx[1]  Dyy[1]  Dzz[1]
    :       :      :      :       :       :       :  % prescribed displacements 
  J[nD]  Dx[nD] Dy[nD] Dz[nD] Dxx[nD] Dyy[nD] Dzz[nD]
%  end  static load case 2 -------------------------------------------------

% repeat the static load data nL times ... up to 127 static load cases


nM                                             %       number of desired modes 
Mmethod                                        % 1: Subspace Jacobi, 2: Stodola
lump                                           % 0: consistent mass, 1: lumped 
/tmp/mode_file                                 %     mode shape data file name 
tol                                            %  convergence tolerance ~ 1e-4 
shift             % shift-factor for rigid body modes, make 0 for pos.def. [K] 

 M[1]  d[1]  BMs[1]
   :     :       :                           % beam density and extra beam mass
 M[nB] d[nB] BMs[nB]

nI                          % number of joints with extra joint mass or inertia
 J[1]  JMs[1]   JMx[1]  JMy[1]  JMz[1]     % joint masses and rotatory inertias 
   :       :        :       :       :                      % global coordinates 
 J[nI] JMs[nI]  JMx[nI] JMy[nI] JMz[nI]

nA                                    % number of modes to be animated 
 anim[0] ... anim[nA] % list of modes to be animated, sorted by increasing freq. 
pan                                         % 1: pan during animation; 0: don't

Cmethod % matrix condensation method ...  0=none, 1=static, 2=Guyan, 3=dynamic
nC                                                % number of condensed joints
 J[1]  cx[1]  cy[1]  cz[1]   cxx[1]  cyy[1] czz[1]
    :      :      :      :        :       :       :    % 1: condense; 0: don't
 J[nC] cx[nC] cy[nC] cz[nC]  cxx[nC] cyy[nC]  czz[nC]

  m[1]   m[2]   m[3]  ...      % list of modes matched in dynamic condensation
                               % if Cmethod == 1, only mode m[1] is matched.

</pre>
</font>
<hr>
<a name="Variables">
<h4>VARIABLE DEFINITIONS</h4>
</a>

<font face="courier" size="3">
<pre>
       a         - Coefficient of thermal expansion (1/degree)
       anim      - List of modes to be animated, by mode number
       plot_file - Plot filename for the Gnuplot-formatted data
                   To plot, type   load 'plot_file' within Gnuplot.
       Ax        - Cross-sectional area of (prismatic) member i
                   (The x-axis is along the member length, in local coordinates)
       Asy       - Shear area in the local y-axis of (prismatic) member i
       Asz       - Shear area in the local z-axis of (prismatic) member i
       anlyz     - 1: Perform stiffness analysis, 0: Check data only
       BMs       - extra mass on a beam, not including self mass
       Cmethod   -  matrix condensation method ...  0=none, 1=static, 2=Guyan, 3=dynamic
       cx        - 1: retain X d.o.f. in condensed system at joint J;  0: don't
       cy        - 1: retain Y d.o.f. in condensed system at joint J;  0: don't
       cz        - 1: retain Z d.o.f. in condensed system at joint J;  0: don't
       cxx       - 1: retain X axis rotation at joint J;  0: don't
       cyy       - 1: retain Y axis rotation at joint J;  0: don't
       czz       - 1: retain Z axis rotation at joint J;  0: don't
       Dx        - Prescribed displacement in the global X direction
       Dy        - Prescribed displacement in the global Y direction
       Dz        - Prescribed displacement in the global Z direction
       Dxx       - Prescribed rotation in the global X direction
       Dyy       - Prescribed rotation in the global Y direction
       Dzz       - Prescribed rotation in the global Z direction
       d         - mass density of a member
                   steel:    7.324e-7 kip s^2/in^4 = 7.85 g/cm^3 = 7.85e-12 MTon/mm^3
                   concrete: 2.245e-7 kip s^2/in^4 = 2.41 g/cm^3 = 2.41e-12 MTon/mm^3
       E         - Modulus of elasticity of member i
                   modulus of steel = 29000 kip/in^2 = 20000 kN/cm^2
       exagg     - Factor for exaggeration of the deformations in the plot
       Fx        - Joint load in the global X direction
       Fy        - Joint load in the global Y direction
       Fz        - Joint load in the global Z direction
       G         -  Shear modulus of elasticity of member i
       geom      - 1: include geometric stiffness effects, 0: do not.
       hy        - member section dimension in the local y coordinate dir.
       hz        - member section dimension in the local z coordinate dir.
       Iyy       - Moment of inertia for bending about the local y axis
       Izz       - Moment of inertia for bending about the local z axis
       J         - Joint number
       J1        - Joint 1 of member i
       J2        - Joint 2 of member i
       JMs       - extra mass of a joint for translational motion
       JMx       - extra rotatory inertia of a joint about global x coord. dir.
       JMy       - extra rotatory inertia of a joint about global y coord. dir.
       JMz       - extra rotatory inertia of a joint about global z coord. dir.
       Jxx       - Torsional moment of inertia of member i
       lump      - 1: use lumped mass matrix, 0: use consistent mass matrix
       M         - Member number 
       Mxx       - Joint Moment about the global X axis
       Myy       - Joint Moment about the global Y axis
       Mzz       - Joint Moment about the global Z axis
       m         - list of modes to match in dynamic condensation
       mesh_file - Data file for the Gnuplot-formatted mesh data for plotting
       Mmethod   - the modal analysis method 1: Subspace Jacobi, 2: Stodola
       mode_file - Data file for the Gnuplot-formatted mode data for plotting
       nA        - number of mode shapes to Animate must be less than 20
       nB        - number of Beam elements
       nC        - number of joints for matrix Condensation 
       nD        - number of joints wiht prescribed Displacements (nD <= nR) 
       nF        - number of joints with point Forces or concentrated moments
       nI        - number of joints with extra joint mass or Inertia
       nJ        - number of Joints
       nL        - number of static Load cases
       nM        - number of Modes to be calculated
       nP        - number of members with concentrated member loads
       nR        - number of joints with Reaction forces
       nT        - number of members with Temperature changes
       nW        - number of distributed loads
       p         - the roll angle of the beam element, in degrees
       pan       - 1: pan the camera view during animation,  0: don't
       Px        - member load in the local x direction
       Py        - member load in the local y direction
       Pz        - member load in the local z direction
       Rx        - 1: reaction force in the global X direction,  0: free
       Ry        - 1: reaction force in the global Y direction,  0: free
       Rz        - 1: reaction force in the global Z direction,  0: free
       Rxx       - 1: reactoin moment about the global X axis, 0: free
       Ryy       - 1: reaction moment about the global Y axis, 0: free
       Rzz       - 1: reaction moment about the global Z axis, 0: free
       r         - r radius of rigid sphere around joint i 
       shear     - 1: include shear deformations, 0: do not.
       shift     - shift factor for non-definite stiffness matrices
       tol       - tolerance for finding mode shapes ~ 1.e-4
       Ty+       - temperature change on the local +y face of the member
       Ty-       - temperature change on the local -y face of the member
       Tz+       - temperature change on the local +z face of the member
       Tz-       - temperature change on the local -z face of the member
       Wx        - uniform member load in the local X direction
       Wy        - uniform member load in the local Y direction
       Wz        - uniform member load in the local Z direction
       x         - x coordinate of a joint in global coordinates
       y         - y coordinate of a joint in global coordinates
       z         - y coordinate of a joint in global coordinates
       xP        - distance from J1 to the concentrated member load

</pre>
</font>
<hr>
<h4>REFERENCES </h4>

This software was developed using methods presented in the following texts,
and the texts by 
<a href="http://www.amazon.com/exec/obidos/tg/detail/-/0534206700/qid=1036162662/sr=1-4/ref=sr_1_4/002-7358683-1549619?v=glance">A. Kassimali</a> and <a href="http://www.amazon.com/exec/obidos/ASIN/0486649482/qid=1003514977/sr=1-1/ref=sr_1_8_1/002-2386037-4350467">J.S. Przemieniecki</a> in particular.  

<ol>
<li> Howard G. Allen, 
    <a href="http://www.amazon.com/exec/obidos/ASIN/0070841004/qid%3D1010096524/ref%3Dsr%5F11%5F0%5F1/103-4346676-9568602">Background to Buckling</a>,
     McGraw-Hill, 1980.                 ASIN: 0070841004 

<li> Klaus-Jurgen Bathe,
    <a href="http://www.amazon.com/exec/obidos/ASIN/0133014584/qid=1003515087/sr=1-1/ref=sr_1_27_1/002-2386037-4350467">Finite Element Procedures</a>,
    Prentice-Hall, 1995.                ISBN: 0133014584 

<li> Arthur P. Boresi, Richard J. Schmidt, and Omar M. Sidebottom,
    <a href="http://www.amazon.com/exec/obidos/ASIN/0471551570/ref=pd_cp_nsr_b_1/002-2386037-4350467">Advanced Mechanics of Materials</a>,
    John Wiley & Sons, 1993.            ISBN: 0471551570

<li> Raymond W. Clough and Joseph Penzien,
    <a href="http://www.amazon.com/exec/obidos/ASIN/0070113920/qid%3D1003514837/ref%3Dsr%5F11%5F0%5F1/002-2386037-4350467">Dynamics of Structures</a>,
    McGraw-Hill, 1993.                  ASIN: 0070113920 

<li> J. P. Den Hartog,
    <a href="http://www.amazon.com/exec/obidos/ASIN/0486654079/qid=1003515697/sr=2-1/ref=sr_2_11_1/002-2386037-4350467">Advanced Strength of Materials</a>,
    Dover Press, 1987.                  ISBN: 0486654079 

<li> Thomas J. R. Hughes, 
    <a href="http://www.amazon.com/exec/obidos/ASIN/0486411818/ref=pd_pym_sim_1_2/002-2386037-4350467">The Finite Element Method: Linear Static and Dynamic Finite Element Analysis</a>,
    Dover Press, 2000.                  ISBN: 0486411818 

<li> Aslam Kassimali, 
    <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0534206700/qid=1036162662/sr=1-4/ref=sr_1_4/002-7358683-1549619?v=glance">Matrix Analysis of Structures</a>,
    Brooks/Cole, 1999.                  ISBN: 0534206700

<li> Jaroslav Mackerle,
    ``<a href="mackerle97.pdf">Finite element linear and nonlinear, static and dynamic analysis of structural
    elements: a bibliography (1992-1995)</a>,''
    Engineering Computations, vol. 14, no. 4, pp. 347-440,  1997.

<li> Jaroslav Mackerle,
    ``<a href="mackerle00.html">Finite element linear and nonlinear, static and dynamic analysis of structural
    elements - an addendum - A bibliography (1996-1999)</a>,''
    Engineering Computations, vol. 17, no. 3, pp. 274-351,  2000.

<li> William McGuire, Richard H. Gallagher, and Ronald D. Ziemian,
<a href="http://www.amazon.com/Structural-Analysis-MASTAN2-William-McGuire/dp/0471376515/ref=pd_bbs_sr_1?ie=UTF8&s=books&qid=1198185313&sr=8-1">
Matrix Structural Analysis, 2nd ed.</a> John Wiley, 1999.
ISBN: 0471376515

<li> W.D. Pilkey, Weize Kang and Uwe Schramm,
    ``<a href="pilkey95.pdf">New structural matrices for a beam element with shear deformation</a>,''
    Finite Elements in Analysis and Design, vol. 19, pp. 25-44,  1995.

<li> William H. Press, Saul A. Teukolsky, William T. Vetterling, Brian P. Flannery,
    <a href="http://www.amazon.com/exec/obidos/ASIN/0521431085/qid=1003515201/sr=1-1/ref=sr_1_10_1/002-2386037-4350467">Numerical Recipes in C: The Art of Scientific Computing</a>,
    Cambridge University Press, 1993.   ISBN: 0521431085 

<li> J.S. Przemieniecki, 
    <a href="http://www.amazon.com/exec/obidos/ASIN/0486649482/qid=1003514977/sr=1-1/ref=sr_1_8_1/002-2386037-4350467">Theory of Matrix Structural Analysis</a>,
    Dover Press, 1985.                  ISBN: 0486649482 

<li> Robert E. Sennett,
    <a href="http://www.amazon.com/exec/obidos/ASIN/1577661435/qid=1003515858/sr=1-2/ref=sr_1_12_2/002-2386037-4350467">Matrix Analysis of Structures</a>,
    Waveland Press, 2000.               ISBN: 1577661435 

<li> S. Timoshenko and J.N. Goodier, Theory of Elasticity, 2nd ed.,
    McGraw Hill, 1951.

<li> Ansel C. Ugural and Saul K. Fenster,
    <a href="http://www.amazon.com/exec/obidos/ASIN/013137589X/qid=1003514318/sr=1-1/ref=sr_1_8_1/002-2386037-4350467">Advanced Strength and Applied Elasticity, 3rd ed.</a>,
    Prentice-Hall, 1995.                ISBN: 013137589X

</ol>
<hr>
<h4>SOURCE CODE</h4>

The source code is written in AINSI C and is extensively commented. The source code includes functions for frame analysis, LDL' decomposition, LU decomposition, Newton-Raphson iteration, sub-space iteration, Stodola iteration, Sturm eigen-value check, static condensation, Guyan reduction, and dynamic condensation. 

<font face="courier" size="3">
<pre>
    file name      description                                               revision date
    -----------    --------------------------------------------------------  -----------------
    main.c          C source-code for main driver routines                 9 September 2008
    frame3dd.c      C source-code for frame analysis                       9 September 2008
    frame3dd_io.c   C source-code for input-output functions               9 September 2008
    eig.c           C source-code for generalized eigenvalue analysis      7 November  2002
    ldl_dcmp.c      C source-code for LDL' decomposition                  26 December  2001 
    lu_dcmp.c       C source-code for LU decomposition                     5 May       1998
    coordtrans.c    C source-code for coordinate transformation           14 March     2008
    nrutil.c        C source-code for dynamic memory allocation            9 September 2008
</pre>
</font>
<p>
<b>Frame3DD</b> compiles with the <a href="http://gcc.gnu.org/">gcc compiler</a>,
the <a
href="http://www.delorie.com/djgpp/"> DJGPP gcc compiler</a>,
the <a href="http://www.cs.virginia.edu/~lcc-win32/"> LCC-win32 compiler</a>,
and the <a href="http://www.mingw.org/"> MinGW compiler</a>.
</p>
<font face="courier" size="3">
<pre>
    gcc -O -o frame3dd main.c frame3dd.c frame3dd_io.c ldl_dcmp.c lu_dcmp.c coordtrans.c eig.c nrutil.c -lm

</pre>
</font>

<b>Author</b>
<font face="courier" size="3">
<pre>
    Henri P. Gavin 
    Department of Civil and Environmental Engineering
    Duke University, Box 90287 
    Durham, NC  27708--0287 

    <a href="&#109;&#097;&#105;&#108;&#116;&#111;&#058;&#072;&#101;&#110;&#114;&#105;&#046;&#071;&#097;&#118;&#105;&#110;&#064;&#068;&#117;&#107;&#101;&#046;&#101;&#100;&#117;">&#072;&#101;&#110;&#114;&#105;&#046;&#071;&#097;&#118;&#105;&#110;&#064;&#068;&#117;&#107;&#101;&#046;&#101;&#100;&#117;
</a>
</pre>
</font>


</font>

<hr>
<table width="700" border="0" cellspacing="2" cellpadding="2" bold >
<tr align="left" valign="middle">
<td>
<a href="http://www.fsf.org/copyleft/gpl.html"><img src="img/gplv3-127x51.png" border="0"></a>
</td>
<td width ="600">
<font face="Verdana, Arial, sans-serif" size="1">
<p align="justify">
Frame3DD is
is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License
(<a href="http://www.fsf.org/copyleft/gpl.html">GPL</a>)
as published by the
<a href="http://www.fsf.org/">Free Software Foundation</a>,
either version 3 of the License, or (at your option) any later version.
</p>

<p align="justify">
Simply put, the <a href="http://www.fsf.org/copyleft/gpl.html">GPL</a>
says that anyone who redistributes the software, with or without changes, must pass along the freedom to further copy and change it. By distributing the complete source code for Frame3DD under the terms of the GPL, we guarantee that you and all other users will have the freedom to redistribute and change Frame3DD.
</p>
</td>
</tr>
</table>
<table width="700" border="0" cellspacing="2" cellpadding="2" bold >
<tr align="left" valign="middle">
<td>
<p align="justify">
<font face="Verdana, Arial, sans-serif" size="1" width="700">
Frame3DD is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License
(<a href="http://www.fsf.org/copyleft/gpl.html">GPL</a>)
and the GNU General Public License
<a href="http://www.gnu.org/copyleft/gpl-faq.html">FAQ</a> for more details.
</p>
<p align="justify">
&copy; 1992-2009 Henri P. Gavin.
Verbatim copying and distribution is permitted in any medium, provided this notice is preserved. <br><br>
Department of Civil and Environmental Engineering<br>
Duke University, Box 90287<br>
Durham, NC 27708-0287
</p>
<p align="justify">
Source code is available from
<a href="http://www.sourceforge.net/projects/frame3dd/">  
http://www.sourceforge.net/projects/frame3dd/</a>
</p>
</td>
</tr>
</table>

<font face="Verdana, Arial, sans-serif" size="1" width="700">
<br>updated: May 6 2003, Nov 8 2004, Nov 22 2004, Nov 29 2004, Dec 2 2004, Dec 10 2004, Dec 6 2006, Feb 22 2007, Mar 1 2007, Jun 6 2007, Dec 20 2007,
Mar 14 2008, Sep 9 2008, Jan 1 2009
</font> <br>
<a href="http://thomer.com/vi/vi.html"><img src="img/vi_logo_by_urmas_reinsalu.png" border="0"></a>
</body>
</html>
