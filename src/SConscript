Import('env')

srcs = [
	'frame.c','lu_dcmp.c','ldl_dcmp.c','nrutil.c','eig.c'
	, 'frm_io.c'
	, 'coordtrans.c'
]

lib = env.SharedLibrary('frame',srcs
	,LIBS = ['m']
	,CCFLAGS = ['-g']
)

frame = env.Program('frame',srcs + ['main.c']
	,LIBS=['frame']
	,LIBPATH=['.']
	,RPATH=['.']
)

bindir=Dir(env.subst("$INSTALL_ROOT$INSTALL_BIN"))
env.Install(bindir,frame);

libdir=Dir(env.subst("$INSTALL_ROOT$INSTALL_LIB"))
env.Install(bindir,lib);

env['installdirs'] += [bindir]

print "CCFLAGS =",env['CCFLAGS']
